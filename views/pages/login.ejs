<!DOCTYPE html>
<html lang="en">

<head>
	<%- include('../partials/head'); %>
</head>

<body class="container">

	<header>
		<%- include('../partials/header'); %>
	</header>

	<!-- Modal -->

	<div class="modal fade" id="messageModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="messageModalTitle">Modal title</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p id="messageModalText"></p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Got it</button>
				</div>
			</div>
		</div>
	</div>
	<main>
		<div class="jumbotron mb-5">
			<h1 class="text-center">Login</h1>
			<form action="/login" method="POST" id="login-form" class="row g-3 needs-validation">
				<div class="mb-3">
					<label for="loginemail" class="form-label">Email address</label>
					<input required name="email" type="email" class="form-control" id="login-email"
						aria-describedby="emailHelp" value="johndoe1@gmail.com">
				</div>
				<div class="mb-3">
					<label for="loginpassword" class="form-label">Password</label>
					<input required name="password" type="password" class="form-control" id="login-password"
						value="12345">
				</div>
				<button type="submit" class="btn btn-primary">Submit</button>
			</form>
			<div class="text-center mt-3">
				<a class="" href="/signup">I don't have an account. Create Account <i
						class="fas fa-arrow-circle-right"></i></a>
			</div>
		</div>
	</main>

	<%- include('../partials/footer'); %>

		<script>
        <% if (messages.error || message) { %>
				$(document).ready(() => {

					let title = $("#messageModalTitle");
					let text = $("#messageModalText");

					title.removeClass('text-danger');
					title.removeClass('text-success');
					title.removeClass('text-warning');
                <% if (!message) {%>
						title.addClass('text-danger');
						title.text("Login Error");
						text.text("<%=messages.error%>");
                <% } else { %>
						title.addClass('text-success');
						title.text("Signup Successfull");
						text.text("<%=message.text%>");
                <% } %>

						let messageModal = new bootstrap.Modal(document.getElementById('messageModal'));
					messageModal.show();

				});
        <% } %>

		</script>
</body>

</html>